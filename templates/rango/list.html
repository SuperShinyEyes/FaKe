{% extends 'rango/base_post_login.html' %}

{% block body_block %}

<table class="table table-hover">
  <!-- http://www.tutorialspoint.com/bootstrap/bootstrap_tables.htm -->
   <caption>Product list</caption>
   <thead>
      <tr>
        <th>Category</th>
        <th>Name</th>
        <th>Price</th>
        <th>Stock</th>
        <th>Registered</th>
        <th>Due Date</th>
      </tr>
   </thead>
   <tbody>
    {% for p in products %}
    {% if p.status == False %}
     <tr class="danger">
    {% else %}
    <tr>
    {% endif%}
       <td>
         {% for c in p.categories.all %}
         <a href="{% url 'rango:product' p.id %}">{{ c.category_name }}</a> /
         {% endfor %}
       </td>

        <td><a href="{% url 'rango:product' p.id %}">{{ p.name }}</a></td>
        <td><a href="{% url 'rango:product' p.id %}">{{ p.price }}</a></td>
        <td><a href="{% url 'rango:product' p.id %}">{{ p.stock }}</a></td>
        <td><a href="{% url 'rango:product' p.id %}">{{ p.registration_time }}</a></td>
        <td><a href="{% url 'rango:product' p.id %}">{{ p.due_date }}</a></td>

     </tr>

     {% endfor %}
      
   </tbody>
</table>



  <div class="pagination">
    <span class="step-links">
      {% if products.has_previous %}
      <a href="{% url 'rango:listing' products.previous_page_number %}">previous</a>
      {% endif %}

      <span class="current">
        Page {{ products.number }} of {{ products.paginator.num_pages }}.
      </span>

      {% if products.has_next %}
      <a href="{% url 'rango:listing' products.next_page_number %}">next</a>
      {% endif %}
    </span>
  </div>
{% endblock %}
